## Specfile for OpenSuSE Build Service

%define packagename  qx11grab-@PACKAGE_VERSION@

Name:           qx11grab
Summary:        qt4 applet for recording x11 windows with ffmpeg
Summary(de):    Qt4 Programm zum Aufnehmen von X11 Fenstern mit ffmpeg
Version:        @PACKAGE_VERSION@
Release:        0
License:        GPLv2+
AutoReqProv:    on
Source0:        %{_sourcedir}/%packagename.tar.bz2
Group:          Productivity/Multimedia/Other
Url:            http://qx11grab.hjcms.de
BuildRoot:      %{_tmppath}/%{name}-%{version}-build
Requires:       ffmpeg
BuildRequires:  autoconf >= 2.62 automake >= 1.10
%if %{defined suse_version}
BuildRequires:  libqt4-devel update-desktop-files
%else
BuildRequires:  qt4-devel
%endif 
Vendor:         Juergen Heinemann (Undefined) http://www.hjcms.de

%description
qt4 applet for recording x11 windows with ffmpeg
this prgramm requires ffmpeg from http://ffmpeg.mplayerhq.hu

before run this application please test with your xterm or console
that ffmpeg installation support this feature:
  ffmpeg -f x11grab -s svga -r 24 -b 6500 -bt 256k -sameq -i :0.0+1,33 /tmp/out.avi

Help: --------------
  http://ffmpeg.mplayerhq.hu/ffmpeg-doc.html#SEC4
  https://lists.mplayerhq.hu/mailman/listinfo

Author: -------------
  Juergen Heinemann (Undefined)
  http://www.hjcms.de

%description -l de
Ein Qt Basierendes Programm zum Aufnehmen von X11 Fenstern.
Das Programm verwendet ffmpeg von http://ffmpeg.mplayerhq.hu

Bevor sie das Programm verwenden bitte testen sie zuerst auf dem terminal oder console
ob ihre ffmpeg Installation diese funktion unterst√ºtzt:
  ffmpeg -f x11grab -s svga -r 24 -b 6500 -bt 256k -sameq -i :0.0+1,33 /tmp/out.avi

Hilfe: --------------
  http://ffmpeg.mplayerhq.hu/ffmpeg-doc.html#SEC4
  https://lists.mplayerhq.hu/mailman/listinfo

Autor: -------------
  Juergen Heinemann (Undefined)
  http://www.hjcms.de

%prep
%setup -q

test -x configure || autoreconf -fvi

%build

%configure

%__make

%install
%makeinstall

%if %{defined suse_version}
%suse_update_desktop_file %{name} -r Utility DesktopUtility
%endif 

%post
#

%postun
#

%files
%defattr(-, root, root)
%dir %{_sysconfdir}/xdg/hjcms.de
%config %{_sysconfdir}/xdg/hjcms.de/%{name}.conf
%{_bindir}/%{name}
@Q_LOCALE_DIR@/%{name}*.qm
%{_datadir}/applications/%{name}.desktop
%dir %{_datadir}/%{name}
%{_datadir}/%{name}/*
%{_datadir}/share/pixmaps/%{name}.png

%clean
rm -rf %{buildroot}

%changelog
#eof
